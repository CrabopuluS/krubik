# Руководство для контрибьюторов

Спасибо за интерес к Krubik! Ниже — обязательные правила для pull request'ов и задач.

## Требования к код-стайлу

### Python
- PEP 8/257, строгие type hints, docstring для публичных функций.
- Форматирование `black`, статический анализ `ruff`, типизация `mypy --strict`.
- Не логировать PII, используйте маскирование или хэширование.
- Конфигурация берётся из `.env` / переменных окружения (без секретов в коде).

### Frontend (TypeScript/React)
- React 18 с хуками, функции-компоненты.
- ESLint (Airbnb + react-hooks + security), Prettier — без отключения правил без причины.
- Tailwind + CSS модули/утилиты для оформления, семантическая разметка и a11y.
- Zustand/React Query — единое место хранения состояния и запросов.

### Тесты
- Backend: `pytest`, `mypy`, `ruff`.
- Frontend: `jest` + React Testing Library, `playwright` (desktop/mobile).
- Добавляйте тесты на новые фичи и регрессии.

## Перед отправкой PR

1. Синхронизируйтесь с `main` и создайте feature-ветку.
2. Обновите/добавьте документацию (README, комментарии, ADR при необходимости).
3. Запустите:
   ```bash
   make lint
   make test
   ```
   При изменениях UI — `make test-e2e`.
4. Обновите `package-lock.json` / `poetry.lock` при изменении зависимостей.
5. Убедитесь, что логи не содержат секретов, а ошибки локализованы.

## Git / PR

- Один PR — одна фича/фикс. Крупные изменения разбивайте на части.
- Описывайте проблему, решение, тесты и возможные риски.
- Следуйте Conventional Commits (`feat:`, `fix:`, `docs:` ...).
- Скриншоты UI-изменений приложите в PR.

Спасибо за вклад!
